(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/tabBar/news/news"],{6828:function(t,e,n){"use strict";n.r(e);var i=n("f7dc"),a=n.n(i);for(var s in i)"default"!==s&&function(t){n.d(e,t,(function(){return i[t]}))}(s);e["default"]=a.a},"6aa3":function(t,e,n){"use strict";(function(t){n("9ec2");i(n("66fd"));var e=i(n("90fc"));function i(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,n("543d")["createPage"])},"6c1b":function(t,e,n){"use strict";var i=n("bf3c"),a=n.n(i);a.a},"89f9":function(t,e,n){"use strict";var i=n("c9b5"),a=n.n(i);a.a},"90fc":function(t,e,n){"use strict";n.r(e);var i=n("df11"),a=n("6828");for(var s in a)"default"!==s&&function(t){n.d(e,t,(function(){return a[t]}))}(s);n("89f9"),n("6c1b");var r,c=n("f0c5"),o=Object(c["a"])(a["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],r);e["default"]=o.exports},bf3c:function(t,e,n){},c9b5:function(t,e,n){},df11:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return s})),n.d(e,"a",(function(){return i}));var i={newsItem:function(){return n.e("components/news-item/news-item").then(n.bind(null,"b39a"))}},a=function(){var t=this,e=t.$createElement;t._self._c},s=[]},f7dc:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n("6ca6"),a=n("33fb");function s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var r=function(){n.e("components/news-item/news-item").then(function(){return resolve(n("b39a"))}.bind(null,n)).catch(n.oe)},c={zhihu:a.listZhiHuData,juejin:a.listJueJinData},o={components:{newsItem:r},data:function(){var t;return t={tabBarData:[{name:"知乎",id:"zhihu"},{name:"掘金",id:"juejin"},{name:"思否",id:"sifou"},{name:"百度",id:"baidu"},{name:"推酷",id:"tuiku"},{name:"开源中国",id:"oschina"}],tabIndex:0,newsList:[],scrollInto:"",showTips:!1,navigateFlag:!1,pulling:!1,cacheTab:[],triggered:!1},s(t,"scrollInto",""),s(t,"_freshing",!1),s(t,"refreshIcon","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAB5QTFRFcHBw3Nzct7e39vb2ycnJioqK7e3tpqam29vb////D8oK7wAAAAp0Uk5T////////////ALLMLM8AAABxSURBVHja7JVBDoAgDASrjqj//7CJBi90iyYeOHTPMwmFZrHjYyyFYYUy1bwUZqtJIYVxhf1a6u0R7iUvWsCcrEtwJHp8MwMdvh2amHduiZD3rpWId9+BgPd7Cc2LIkPyqvlQvKxKBJ//Qwq/CacAAwDUv0a0YuKhzgAAAABJRU5ErkJggg=="),t},onLoad:function(){var t=this;this.tabBarData.forEach((function(e){t.newsList.push({data:[],isLoading:!1,refreshText:"",loadingText:"加载更多...",page:1})})),this.getNewsList(this.tabIndex)},methods:{getNewsList:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=this.newsList[t],r=this.tabBarData[t]["id"];(0,i.showLoading)();var o=c[r]||a.listJueJinData;n&&(s.page=1),o(s.page).then((function(t){n?s.data=t:(s.data=s.data.concat(t),s.page++,0==t.length&&(s.isLoading=!0,s.loadingText="暂无更多数据")),(0,i.hideLoading)(),e.triggered=!1}))},goDetail:function(e){var n=this;this.navigateFlag||(this.navigateFlag=!0,t.navigateTo({url:"../../../components/news-detail/news-detail?id="+e.id+"&type="+this.tabBarData[this.tabIndex]["id"]+"&title="+e.title}),setTimeout((function(){n.navigateFlag=!1}),200))},loadMore:function(t){this.getNewsList(t)},close:function(e,n){var i=this;t.showModal({content:"是否删除本条信息？",success:function(t){t.confirm&&i.newsList[e].data.splice(n,1)}})},ontabtap:function(t){var e=t.target.dataset.current||t.currentTarget.dataset.current;this.switchTab(e)},ontabchange:function(t){var e=t.target.current||t.detail.current;this.switchTab(e)},switchTab:function(t){if(0===this.newsList[t].data.length&&this.getNewsList(t),this.tabIndex!==t){if(this.newsList[this.tabIndex].data.length>100){var e=this.cacheTab.indexOf(this.tabIndex);e<0&&this.cacheTab.push(this.tabIndex)}if(this.tabIndex=t,this.scrollInto=this.tabBarData[t].id,this.cacheTab.length>3){var n=this.cacheTab[0];this.clearTabData(n),this.cacheTab.splice(0,1)}}},clearTabData:function(t){this.newsList[t].data.length=0,this.newsList[t].loadingText="加载更多..."},refreshData:function(){this.getNewsList(this.tabIndex,!0)},onrefresh:function(t){var e=this,n=this.newsList[this.tabIndex];n.refreshFlag&&(n.refreshing=!0,n.refreshText="正在刷新...",setTimeout((function(){e.refreshData(),e.pulling=!0,n.refreshing=!1,n.refreshFlag=!1,n.refreshText="已刷新",setTimeout((function(){e.pulling=!1}),500)}),3e3))},onpullingdown:function(t){var e=this.newsList[this.tabIndex];e.refreshing||this.pulling||(Math.abs(t.pullingDistance)>Math.abs(t.viewHeight)?(e.refreshFlag=!0,e.refreshText="释放立即刷新"):(e.refreshFlag=!1,e.refreshText="下拉可以刷新"))},onPulling:function(t){console.log("onpulling",t)},onRefresh2:function(){var t=this;this._freshing||(this._freshing=!0,this.triggered||(this.triggered=!0),this.getNewsList(this.tabIndex),setTimeout((function(){t._freshing=!1}),3e3))},onRestore:function(){this.triggered="restore"},onAbort:function(){}}};e.default=o}).call(this,n("543d")["default"])}},[["6aa3","common/runtime","common/vendor"]]]);