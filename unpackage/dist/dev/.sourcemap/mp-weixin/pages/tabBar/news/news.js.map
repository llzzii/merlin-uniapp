{"version":3,"sources":["uni-app:///main.js","webpack:///E:/uniAPP/merlin/pages/tabBar/news/news.nvue?3dc7","webpack:///E:/uniAPP/merlin/pages/tabBar/news/news.nvue?5cce","webpack:///E:/uniAPP/merlin/pages/tabBar/news/news.nvue?cee2","webpack:///E:/uniAPP/merlin/pages/tabBar/news/news.nvue?4bdf","uni-app:///pages/tabBar/news/news.nvue","webpack:///E:/uniAPP/merlin/pages/tabBar/news/news.nvue?5491","webpack:///E:/uniAPP/merlin/pages/tabBar/news/news.nvue?3568","webpack:///E:/uniAPP/merlin/pages/tabBar/news/news.nvue?f076","webpack:///E:/uniAPP/merlin/pages/tabBar/news/news.nvue?1833"],"names":["createPage","Page"],"mappings":"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","file":"pages/tabBar/news/news.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/tabBar/news/news.nvue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./news.nvue?vue&type=template&id=6941f887&\"\nvar renderjs\nimport script from \"./news.nvue?vue&type=script&lang=js&\"\nexport * from \"./news.nvue?vue&type=script&lang=js&\"\nimport style0 from \"./news.nvue?vue&type=style&index=0&lang=css&\"\nimport style1 from \"./news.nvue?vue&type=style&index=1&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/tabBar/news/news.nvue\"\nexport default component.exports","export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./news.nvue?vue&type=template&id=6941f887&\"","var components\ntry {\n  components = {\n    newsItem: function() {\n      return import(\n        /* webpackChunkName: \"components/news-item/news-item\" */ \"@/components/news-item/news-item.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./news.nvue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./news.nvue?vue&type=script&lang=js&\"","<style>\n  view,\n  label,\n  swiper-item,\n  scroll-view {\n    display:flex;\n    flex-direction:column;\n    flex-shrink: 0;\n    flex-grow: 0;\n    flex-basis: auto;\n    align-items: stretch;\n    align-content: flex-start;\n  }\n  view,\n  image,\n  input,\n  scroll-view,\n  swiper,\n  swiper-item,\n  text,\n  textarea,\n  video {\n    position: relative;\n    border: 0px solid #000000;\n    box-sizing: border-box;\n  }\n  swiper-item {\n    position: absolute;\n  }\n  button {\n    margin: 0;\n  }\n</style>\n<template>\r\n\t<view class=\"news-container\">\r\n\t\t<scroll-view scroll-x=\"true\" class=\"scroll-h\">\r\n\t\t\t<view v-for=\"(tab,index) in tabBarData\" :key=\"tab.id\" class=\"uni-tab-item\" :id=\"tab.id\"\r\n\t\t\t\t:scroll-into-view=\"scrollInto\" :data-current=\"index\" @click=\"ontabtap\">\r\n\t\t\t\t<text class=\"uni-tab-item-title\"\r\n\t\t\t\t\t:class=\"tabIndex==index ? 'uni-tab-item-title-active' : ''\">{{tab.name}}</text>\r\n\t\t\t</view>\r\n\t\t</scroll-view>\r\n\t\t<view class=\"line-h\"></view>\r\n\t\t<swiper :current=\"tabIndex\" :interval=\"3000\" class=\"swiper-box\" style=\"flex: 1;\" :duration=\"300\"\r\n\t\t\t@change=\"ontabchange\">\r\n\t\t\t<swiper-item class=\"swiper-item\" v-for=\"(tab,index1) in newsList\" :key=\"index1\">\r\n\t\t\t\t<!-- #ifdef APP-NVUE -->\r\n\t\t\t\t<list class=\"scroll-v list\" enableBackToTop=\"true\" scroll-y loadmoreoffset=\"15\" @loadmore=\"loadMore(index1)\">\r\n\t\t\t\t\t<refresh class=\"refresh\" @refresh=\"onrefresh(index1)\" @pullingdown=\"onpullingdown\" :display=\"tab.refreshing ? 'show' : 'hide'\">\r\n\t\t\t\t\t\t<view class=\"refresh-view\">\r\n\t\t\t\t\t\t\t<image class=\"refresh-icon\" :src=\"refreshIcon\" :style=\"{width: (tab.refreshing || pulling) ? 0: '30px'}\" :class=\"{'refresh-icon-active': tab.refreshFlag}\"></image>\r\n\t\t\t\t\t\t\t<loading-indicator class=\"loading-icon\" animating=\"true\" v-if=\"tab.refreshing\"></loading-indicator>\r\n\t\t\t\t\t\t\t<text class=\"loading-text\">{{tab.refreshText}}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</refresh>\r\n\t\t\t\t\t<cell v-for=\"(newsitem,index2) in tab.data\" :key=\"newsitem.id\">\r\n\t\t\t\t\t\t<news-item :options=\"newsitem\" @close=\"close(index1,index2)\" @click=\"goDetail(newsitem)\"></news-item>\r\n\t\t\t\t\t</cell>\r\n\t\t\t\t\t<cell class=\"loading-more\" v-if=\"tab.isLoading || tab.data.length > 4\">\r\n\t\t\t\t\t\t<text class=\"loading-more-text\">{{tab.loadingText}}</text>\r\n\t\t\t\t\t</cell>\r\n\t\t\t\t</list>\r\n\t\t\t\t<!-- #endif -->\r\n\t\t\t\t<!-- #ifndef APP-NVUE -->\r\n\t\t\t\t<scroll-view class=\"scroll-v list\" enableBackToTop=\"true\" scroll-y @scrolltolower=\"loadMore(index1)\"\r\n\t\t\t\t\trefresher-enabled=\"true\" :refresher-triggered=\"triggered\" :refresher-threshold=\"100\"\r\n\t\t\t\t\trefresher-background=\"#c0c0c0\" @refresherpulling=\"onPulling\" @refresherrefresh=\"onRefresh2\"\r\n\t\t\t\t\t@refresherrestore=\"onRestore\" @refresherabort=\"onAbort\">\r\n\t\t\t\t\t<view v-for=\"(newsitem,index2) in tab.data\" :key=\"newsitem.id\">\r\n\t\t\t\t\t\t<news-item :options=\"newsitem\" @close=\"close(index1,index2)\" @click=\"goDetail(newsitem)\">\r\n\t\t\t\t\t\t</news-item>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"loading-more\" v-if=\"tab.isLoading || tab.data.length > 4\">\r\n\t\t\t\t\t\t<text class=\"loading-more-text\">{{tab.loadingText}}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t\r\n\t\t\t\t</scroll-view>\r\n\t\t\t\t<!-- #endif -->\r\n\t\t\t</swiper-item>\r\n\t\t\t\r\n\t\t</swiper>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport newsItem from '../../../components/news-item/news-item.vue';\r\n\timport {\r\n\t\tshowLoading,\r\n\t\thideLoading\r\n\t} from '../../../utils/loading.js'\r\n\timport {\r\n\t\tlistJueJinData,\r\n\t\tlistZhiHuData\r\n\t} from \"../../../utils/loadNewsData.js\"\r\n\tconst functionMap={\r\n\t\t \"zhihu\": listZhiHuData,\r\n\t\t\"juejin\": listJueJinData\r\n\t}\r\n\texport default {\r\n\t\tcomponents: {\r\n\t\t\tnewsItem\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\ttabBarData: [{\r\n\t\t\t\t\tname: \"知乎\",\r\n\t\t\t\t\tid: \"zhihu\"\r\n\t\t\t\t}, {\r\n\t\t\t\t\tname: \"掘金\",\r\n\t\t\t\t\tid: \"juejin\"\r\n\t\t\t\t}, {\r\n\t\t\t\t\tname: \"思否\",\r\n\t\t\t\t\tid: \"sifou\"\r\n\t\t\t\t}, {\r\n\t\t\t\t\tname: \"百度\",\r\n\t\t\t\t\tid: \"baidu\"\r\n\t\t\t\t}, {\r\n\t\t\t\t\tname: \"推酷\",\r\n\t\t\t\t\tid: \"tuiku\"\r\n\t\t\t\t}, {\r\n\t\t\t\t\tname: \"开源中国\",\r\n\t\t\t\t\tid: \"oschina\"\r\n\t\t\t\t}],\r\n\t\t\t\ttabIndex: 0,\r\n\t\t\t\tnewsList: [],\r\n\t\t\t\tscrollInto: \"\",\r\n\t\t\t\tshowTips: false,\r\n\t\t\t\tnavigateFlag: false,\r\n\t\t\t\tpulling: false,\r\n\t\t\t\tcacheTab: [],\r\n\t\t\t\ttriggered: false,\r\n\t\t\t\tscrollInto: \"\",\r\n\t\t\t\t_freshing: false,\r\n\t\t\t\t refreshIcon: \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAB5QTFRFcHBw3Nzct7e39vb2ycnJioqK7e3tpqam29vb////D8oK7wAAAAp0Uk5T////////////ALLMLM8AAABxSURBVHja7JVBDoAgDASrjqj//7CJBi90iyYeOHTPMwmFZrHjYyyFYYUy1bwUZqtJIYVxhf1a6u0R7iUvWsCcrEtwJHp8MwMdvh2amHduiZD3rpWId9+BgPd7Cc2LIkPyqvlQvKxKBJ//Qwq/CacAAwDUv0a0YuKhzgAAAABJRU5ErkJggg==\"\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad() {\r\n\t\t\tthis.tabBarData.forEach((tabBar) => {\r\n\t\t\t\tthis.newsList.push({\r\n\t\t\t\t\tdata: [],\r\n\t\t\t\t\tisLoading: false,\r\n\t\t\t\t\trefreshText: \"\",\r\n\t\t\t\t\tloadingText: '加载更多...',\r\n\t\t\t\t\tpage:1\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t\tthis.getNewsList(this.tabIndex);\r\n\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tgetNewsList(index,refresh=false) {\r\n\t\t\t\tlet activeTab = this.newsList[index];\r\n\t\t\t\tlet id = this.tabBarData[index][\"id\"]\r\n\t\t\t\tshowLoading()\r\n\t\t\t\tlet callback = functionMap[id] || listJueJinData\r\n\t\t\t\tif(refresh){\r\n\t\t\t\t\tactiveTab.page=1;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tcallback(activeTab.page).then(res => {\r\n\t\t\t\t\tif(refresh){\r\n\t\t\t\t\t\tactiveTab.data =  res;\t\t\t\t\t\t\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tactiveTab.data = activeTab.data.concat(res);\r\n\t\t\t\t\t\tactiveTab.page++\r\n\t\t\t\t\t\tif(res.length==0){\r\n\t\t\t\t\t\t\tactiveTab.isLoading=true;\r\n\t\t\t\t\t\t\tactiveTab.loadingText=\"暂无更多数据\"\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\thideLoading()\r\n\t\t\t\t\tthis.triggered = false;\r\n\t\t\t\t\t\r\n\t\t\t\t})\r\n\t\t\t\t\r\n\r\n\t\t\t},\r\n\t\t\tgoDetail(e) {\r\n\t\t\t    if (this.navigateFlag) {\r\n\t\t\t        return;\r\n\t\t\t    }\r\n\t\t\t    this.navigateFlag = true;\r\n\t\t\t    uni.navigateTo({\r\n\t\t\t        url: '../../../components/news-detail/news-detail?id=' + e.id+'&type='+this.tabBarData[this.tabIndex][\"id\"]+'&title='+e.title\r\n\t\t\t    });\r\n\t\t\t    setTimeout(() => {\r\n\t\t\t        this.navigateFlag = false;\r\n\t\t\t    }, 200)\r\n\t\t\t},\r\n\t\t\t// 滚动到底部/右边，会触发 scrolltolower 事件\r\n\t\t\tloadMore(index) {\r\n\t\t\t\tthis.getNewsList(index)\r\n\t\t\t},\r\n\t\t\tclose(index1, index2) {\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t\tcontent: '是否删除本条信息？',\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\tthis.newsList[index1].data.splice(index2, 1);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tontabtap(e) {\r\n\t\t\t\tlet index = e.target.dataset.current || e.currentTarget.dataset.current;\r\n\t\t\t\tthis.switchTab(index);\r\n\t\t\t},\r\n\t\t\tontabchange(e) {\r\n\t\t\t\tlet index = e.target.current || e.detail.current;\r\n\t\t\t\tthis.switchTab(index);\r\n\t\t\t},\r\n\t\t\tswitchTab(index) {\r\n\t\t\t\tif (this.newsList[index].data.length === 0) {\r\n\t\t\t\t\tthis.getNewsList(index);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (this.tabIndex === index) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// 缓存 tabId\r\n\t\t\t\tif (this.newsList[this.tabIndex].data.length > 100) {\r\n\t\t\t\t\tlet isExist = this.cacheTab.indexOf(this.tabIndex);\r\n\t\t\t\t\tif (isExist < 0) {\r\n\t\t\t\t\t\tthis.cacheTab.push(this.tabIndex);\r\n\t\t\t\t\t\t//console.log(\"cache index:: \" + this.tabIndex);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.tabIndex = index;\r\n\t\t\t\tthis.scrollInto = this.tabBarData[index].id;\r\n\r\n\t\t\t\t// 释放 tabId\r\n\t\t\t\tif (this.cacheTab.length > 3) {\r\n\t\t\t\t\tlet cacheIndex = this.cacheTab[0];\r\n\t\t\t\t\tthis.clearTabData(cacheIndex);\r\n\t\t\t\t\tthis.cacheTab.splice(0, 1);\r\n\t\t\t\t\t//console.log(\"remove cache index:: \" + cacheIndex);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tclearTabData(e) {\r\n\t\t\t\tthis.newsList[e].data.length = 0;\r\n\t\t\t\tthis.newsList[e].loadingText = \"加载更多...\";\r\n\t\t\t},\r\n\t\t\trefreshData() {\r\n\t\t\t\tthis.getNewsList(this.tabIndex,true)\r\n\t\t\t},\r\n\t\t\tonrefresh(e) {\r\n\t\t\t\tvar tab = this.newsList[this.tabIndex];\r\n\t\t\t\tif (!tab.refreshFlag) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\ttab.refreshing = true;\r\n\t\t\t\ttab.refreshText = \"正在刷新...\";\r\n\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tthis.refreshData();\r\n\t\t\t\t\tthis.pulling = true;\r\n\t\t\t\t\ttab.refreshing = false;\r\n\t\t\t\t\ttab.refreshFlag = false;\r\n\t\t\t\t\ttab.refreshText = \"已刷新\";\r\n\t\t\t\t\tsetTimeout(() => { // TODO fix ios和Android 动画时间相反问题\r\n\t\t\t\t\t\tthis.pulling = false;\r\n\t\t\t\t\t}, 500);\r\n\t\t\t\t}, 3000);\r\n\t\t\t},\r\n\t\t\tonpullingdown(e) {\r\n\t\t\t\tvar tab = this.newsList[this.tabIndex];\r\n\t\t\t\tif (tab.refreshing || this.pulling) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif (Math.abs(e.pullingDistance) > Math.abs(e.viewHeight)) {\r\n\t\t\t\t\ttab.refreshFlag = true;\r\n\t\t\t\t\ttab.refreshText = \"释放立即刷新\";\r\n\t\t\t\t} else {\r\n\t\t\t\t\ttab.refreshFlag = false;\r\n\t\t\t\t\ttab.refreshText = \"下拉可以刷新\";\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\t// 自定义刷新\r\n\t\t\tonPulling(e) {\r\n\t\t\t\tconsole.log(\"onpulling\", e);\r\n\t\t\t},\r\n\t\t\tonRefresh2() {\r\n\t\t\t\tif (this._freshing) return;\r\n\t\t\t\tthis._freshing = true;\r\n\t\t\t\tif (!this.triggered) { //界面下拉触发，triggered可能不是true，要设为true  \r\n\t\t\t\t\tthis.triggered = true;\r\n\t\t\t\t}\r\n\t\t\t\tthis.getNewsList(this.tabIndex)\r\n\t\t\t\tsetTimeout(() => { \r\n\t\t\t\t    this._freshing = false;\r\n\t\t\t\t}, 3000);\r\n\t\t\t},\r\n\t\t\tonRestore() {\r\n\t\t\t\tthis.triggered = 'restore'; // 需要重置\r\n\t\t\t},\r\n\t\t\tonAbort() {\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n\r\n<style>\r\n\t/* #ifndef APP-PLUS */\r\n\tpage {\r\n\t\twidth: 100%;\r\n\t\tmin-height: 100%;\r\n\t\tdisplay: flex;\r\n\t}\r\n\r\n\t/* #endif */\r\n\r\n\t.news-container {\r\n\t\tflex: 1;\r\n\t\tflex-direction: column;\r\n\t\toverflow: hidden;\r\n\t\tbackground-color: #ffffff;\r\n\t\t/* #ifndef APP-PLUS */\r\n\t\theight: 100vh;\r\n\t\t/* #endif */\r\n\t}\r\n\r\n\t.scroll-h {\r\n\t\twidth: 750rpx;\r\n\t\t/* #ifdef H5 */\r\n\t\twidth: 100%;\r\n\t\t/* #endif */\r\n\t\theight: 80rpx;\r\n\t\tflex-direction: row;\r\n\t\t/* #ifndef APP-PLUS */\r\n\t\twhite-space: nowrap;\r\n\t\t/* #endif */\r\n\t\t/* flex-wrap: nowrap; */\r\n\t\t/* border-color: #cccccc;\r\n\t\tborder-bottom-style: solid;\r\n\t\tborder-bottom-width: 1px; */\r\n\t}\r\n\r\n\t.line-h {\r\n\t\theight: 1rpx;\r\n\t\tbackground-color: #cccccc;\r\n\t}\r\n\r\n\t.uni-tab-item {\r\n\t\t/* #ifndef APP-PLUS */\r\n\t\tdisplay: inline-block;\r\n\t\t/* #endif */\r\n\t\tflex-wrap: nowrap;\r\n\t\tpadding-left: 34rpx;\r\n\t\tpadding-right: 34rpx;\r\n\t}\r\n\r\n\t.uni-tab-item-title {\r\n\t\tcolor: #555;\r\n\t\tfont-size: 30rpx;\r\n\t\theight: 80rpx;\r\n\t\tline-height: 80rpx;\r\n\t\tflex-wrap: nowrap;\r\n\t\t/* #ifndef APP-PLUS */\r\n\t\twhite-space: nowrap;\r\n\t\t/* #endif */\r\n\t}\r\n\r\n\t.uni-tab-item-title-active {\r\n\t\tcolor: #007AFF;\r\n\t}\r\n\r\n\t.swiper-box {\r\n\t\tflex: 1;\r\n\t}\r\n\r\n\t.swiper-item {\r\n\t\tflex: 1;\r\n\t\tflex-direction: row;\r\n\t}\r\n\r\n\t.scroll-v {\r\n\t\tflex: 1;\r\n\t\t/* #ifndef MP-ALIPAY */\r\n\t\tflex-direction: column;\r\n\t\t/* #endif */\r\n\t\twidth: 750rpx;\r\n\t\twidth: 100%;\r\n\t}\r\n\r\n\t.update-tips {\r\n\t\tposition: absolute;\r\n\t\tleft: 0;\r\n\t\ttop: 41px;\r\n\t\tright: 0;\r\n\t\tpadding-top: 5px;\r\n\t\tpadding-bottom: 5px;\r\n\t\tbackground-color: #FDDD9B;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\ttext-align: center;\r\n\t}\r\n\r\n\t.update-tips-text {\r\n\t\tfont-size: 14px;\r\n\t\tcolor: #ffffff;\r\n\t}\r\n\r\n\t.refresh {\r\n\t\twidth: 750rpx;\r\n\t\twidth: 100%;\r\n\t\theight: 64px;\r\n\t\tjustify-content: center;align-items: center;\r\n\t}\r\n\r\n\t.refresh-view {\r\n\t\t/* flex-direction: row;\r\n\t\tflex-wrap: nowrap; */\r\n\t\ttext-align: center;\r\n\t\tjustify-content: center;\r\n\t}\r\n\r\n\t.refresh-icon {\r\n\t\twidth: 30px;\r\n\t\theight: 30px;\r\n\t\ttransition-duration: .5s;\r\n\t\ttransition-property: transform;\r\n\t\ttransform: rotate(0deg);\r\n\t\ttransform-origin: 15px 15px;\r\n\t}\r\n\r\n\t.refresh-icon-active {\r\n\t\ttransform: rotate(180deg);\r\n\t}\r\n\r\n\t.loading-icon {\r\n\t\twidth: 20px;\r\n\t\theight: 20px;\r\n\t\tmargin-right: 5px;\r\n\t\tcolor: #999999;\r\n\t}\r\n\r\n\t.loading-text {\r\n\t\tmargin-left: 2px;\r\n\t\tfont-size: 16px;\r\n\t\tcolor: #999999;\r\n\t}\r\n\r\n\t.loading-more {\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\tpadding-top: 10px;\r\n\t\tpadding-bottom: 10px;\r\n\t\ttext-align: center;\r\n\t}\r\n\r\n\t.loading-more-text {\r\n\t\tfont-size: 28rpx;\r\n\t\tcolor: #999;\r\n\t}\r\n</style>\n","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./news.nvue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./news.nvue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1631956711457\n      var cssReload = require(\"D:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./news.nvue?vue&type=style&index=1&lang=css&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./news.nvue?vue&type=style&index=1&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1631956711467\n      var cssReload = require(\"D:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}